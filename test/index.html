<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
  <title>jquery-ensure tests</title>    
  <script language="javascript" src="jquery-1.2.6.js" type="text/javascript"></script>
  <script language="javascript" src="testrunner.js" type="text/javascript"></script>
  <script language="javascript" src="../jquery.ensure.js" type="text/javascript"></script>
  <!-- add a script reference to your library here -->
  <link media="screen" href="testsuite.css" type="text/css" rel="stylesheet"/>    
  <style>
    .hidden { display: none; }
  </style>
</head>
<body>

<script language="javascript" type="text/javascript">

$(function() {
  $('#container1 span').ensure('addClass', 'ensured');
});

module("When adding an element to the page");

  test("it should receive the ensured action if it matches the selector", function() {
    $('#container1').append('<span id="test1">test</span>');
    ok($('#test1').hasClass('ensured'), 'action was applied');
  })

  test("it should not receive the ensured action if it does not match the selector", function() {
    $('#container2').append('<span id="test2">test</span>');
    ok(!$('#test2').hasClass('ensured'), 'action was not applied');
  })

</script>

  <!-- qUnit framework HTML -->
        
  <h1>jquery-ensure</h1>
  <h2 id="banner"></h2>
  <ol id="tests"></ol>
  <div id="results"></div>
  <div id="main"></div>        
  
  <!-- HTML used by tests -->
  <div id="container1" class="hidden"></div>
  <div id="container2" class="hidden"></div>
        
</body>
</html>

